<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">

<!-- <f:view>
<h:head>
<title>Selected folder/Report</title>


</h:head> -->

<h:body>

    <ui:composition template="commonLayout.xhtml">
        <ui:param name="metaRefresh" value="#{consts.metaFull}"/>
        <ui:param name="titleH1" value="Отчет"/>
        <ui:param name="titleH3" value="#{mainBean.manager.report.name} [#{mainBean.manager.report.id}]"/>
        <ui:define name="body">
            <div class="jsfTextPartHeader">
                <p><h:outputText id="reportDescription" style="position: relative;"
                                 value="#{reportController.manager.report.description}"/></p>
            </div>
            <!-- Включаем в форму отчёта панели -->
            <div style="position: relative; clear:both; ">
                <c:forEach items="#{mainBean.allPanels}" var="tab">
                    <!-- <ui:include src="#{mainBean.reportFoldersPathURL}#{tab}.xhtml"/> -->
                    <ui:include src="#{tab}.xhtml"/>
                </c:forEach>
            </div>
            <div style="clear:both; margin-top:30px;">
                <p:commandButton value="Поставить в очередь" id="nonAjax"
                                 actionListener="#{userSessionController.createNewReportTask}" styleClass="button"
                                 style="position:relative; width:130px;" />
            </div>
        </ui:define>
    </ui:composition>


    <!-- <ui:composition ВОТ ЭТОТ БЛОК НЕ РАБОТАЕТ. ВЫВОДИТСЯ ПУСТАЯ БЕЛАЯ СТРАНИЦА. ЗАКАМЕНТИЛ ПОКА ЕГО>

    Вообще как я понял, это шаблон. Они его видимо там в отдельном файле формируют и подтягивают. Ну и параметры (в данном случае тайтлы шаблона) выставляют на каждой страничке отдельно.
    Пока не очень понятно как работают шаблоны с праймфейсес. Тем более kajam там какую-то тему покупал, какие-то свои шаблоны пили под праймфесес. Поэтому пока положим хер на это дело. Такой,
    знаете ли, большой и толстый. И попозже (оооооочень может быть (такое прям может-быть может-бытьное)) вернемся к этому.

    <ui:param name="titleH1" value="Отчет"/>
    <ui:param name="titleH3" value="#{reportController.manager.report.name} [#{reportController.manager.report.id}]"/> -->

    <!--  Видимо <ui:define  - это тоже какая-то настройка для темплейта. Короче в рамках тега он сука аутпутТекст не отображает вообще.
    <ui:define name="body">
       <div class="jsfTextPartHeader">
          <h:outputText id="reportDescription" style="position: relative;"  value="#{reportController.manager.report.description}" />
       </div>
    </ui:define>
    -->

    <!--  ****************************************************************************************************************************     -->

    <!-- Включаем в форму отчёта панели


    <div style="position: relative; clear:both; ">
       <c:forEach items="#{reportController.allPanels}" var="tab">
          <ui:include src="#{reportController.reportFoldersPathURL}#{tab}.xhtml" />
       </c:forEach>
    </div>

-->
    <!--  ****************************************************************************************************************************     -->

    <!-- и все, и баттон для постановки отчета в очередь


    <div style="clear:both; margin-top:30px;">
    <ice:commandButton action="#{userSessionController.createNewReportTask}"
                       styleClass="button"
                       style="position:relative; width:130px;"
                       value="Поставить в очередь"/>


    -->

    <!--  ****************************************************************************************************************************     -->

    <!--
          <f:facet name="last">
             <h:outputStylesheet library="css" name="reso.css" />
          </f:facet>

          <h:panelGrid title="JSF panelGrid Title" border="10" columns="2">
             <h:button value="Goback" title="Go back" outcome="index"/>
          </h:panelGrid>


          <h:outputText id="display" value="#{mainBean.selectedNodeName}" />
             </ui:composition> -->


</h:body>
<!-- </f:view> -->

</html>